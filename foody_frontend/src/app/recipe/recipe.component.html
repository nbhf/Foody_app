<div *ngIf="loading" class="loading">
  <p>Loading...</p>  <!-- Affiche un message de chargement -->
</div>

<div *ngIf="error" class="error">
  <p>{{ error }}</p> 
</div>

<div *ngIf="!loading && recipe" class="recipe-card">
  <h2>{{ recipe.name }}</h2>
  <img  [src]="recipe.imgUrl | defaultImage:'assets/default_recipe.png'" alt="{{ recipe.name }}" class="recipe-image"/>
  <p><strong>Published by:</strong> {{recipe.createdBy.username }}</p>
  <p><strong>Description:</strong> {{ recipe.description }}</p>
  <p><strong>Category:</strong> {{ recipe.category }}</p>

  <div class="ingredients">
    <h3>Ingredients:</h3>
    <ul>
      <li *ngFor="let ingredient of recipe.ingredients">{{ ingredient }}</li>
    </ul>
  </div>

  <div class="instructions">
    <h3>Instructions:</h3>
    <ul>
      <li *ngFor="let instruction of recipe.instructions">{{ instruction }}</li>
    </ul>    
  </div>

  <button (click)="saveRecipe(recipe.id)" class="save-btn">Save</button>

  <button *ngIf="isAdmin" (click)="approveRecipe(recipe.id)" class="save-btn">Approve</button>
  <button *ngIf="isAdmin" (click)="refuseRecipe(recipe.id)" class="save-btn">Refuse</button>
</div>




<!-- <div>

  <button (click)="getSavedRecipes()">Recettes sauvegardées</button>
  <div >
    <h2>Recettes sauvegardées</h2>
    <ul>
      <li *ngFor="let savedRecipe of savedRecipes">
        <h2>{{savedRecipe.name }}</h2>
 <img  [src]="recipe.imgUrl | defaultImage:'assets/default_recipe.png'" alt="{{ recipe.name }}" class="recipe-image"/>
  <p><strong>Published by:</strong> {{ getUsername() }}</p>
  <p><strong>Description:</strong> {{ recipe.description }}</p>
  <p><strong>Category:</strong> {{ recipe.category }}</p>
        <div class="ingredients">
          <h3>Ingredients:</h3>
          <ul>
            <li *ngFor="let ingredient of savedRecipe.ingredients">{{ ingredient }}</li>
          </ul>
        </div>
      
        <div class="instructions">
          <h3>Instructions:</h3>
          <ul>
            <li *ngFor="let instruction of savedRecipe.instructions">{{ instruction }}</li>
          </ul>    
        </div>
            </li>
    </ul>
  </div>
</div> -->
